{"version":3,"file":"fat_cat.js","sources":["../app/components/canvas/canvas.js","../app/components/rectangle/rectangle.js","../app/modules/game/game.js","../app.js"],"sourcesContent":["/**\n * Canvas component\n */\nclass Canvas {\n    constructor(props) {\n        this.canvas = null;\n        this.init(props);\n        this.create(props);\n        this.attachListeners();\n    }\n\n    init(props) {\n        const canvas = document.createElement('canvas');\n        canvas.id = props.id;\n        document.getElementById('app').appendChild(canvas);\n    }\n\n    create(props) {\n        this.canvas = new fabric.Canvas(props.id);\n        if (props.dimension) {\n            this.canvas.setHeight(props.dimension + 1);\n            this.canvas.setWidth(props.dimension + 1);\n        }\n    }\n\n    attachListeners() {}\n\n    add(obj) {\n        this.canvas.add(obj);\n    }\n}\n\nexport default Canvas;","/**\n * Rectangle component\n */\nclass Rectangle {\n\n    constructor (props) {\n        // todo: some of this props need to be private\n        // switch to revealing module pattern and make it local\n        this.rect = null;\n        this.dimension = props.dimension || 50;\n        this.column = props.column;\n        this.row = props.row;\n        this.clicked = props.clicked;\n        this.mouseOver = props.mouseOver;\n        this.mouseOut = props.mouseOut;\n        this.isPermanent = false;\n        this.isTemporary = true;\n        this.create(props);\n        this.attachSelectedListener();\n    }\n\n    create(props) {\n        const left = (this.column % this.dimension) * this.dimension;\n        const top = this.row * this.dimension;\n        this.rect = new fabric.Rect({\n            id: this.column + '_' + this.row,\n            left: left,\n            top: top,\n            fill: Rectangle.COLORS.REGULAR,\n            width: this.dimension,\n            height: this.dimension,\n            stroke: Rectangle.COLORS.BORDER,\n            strokeWidth: props.strokeWidth || 1,\n            lockMovementX: true,\n            lockMovementY: true,\n            selection : false,\n            hasBorders: false,\n            hasControls: false,\n            hoverCursor: 'default'\n        });\n    }\n\n    get() {\n        return this.rect;\n    }\n\n    attachSelectedListener() {\n        this.rect.on('selected', () => this.clicked(this));\n    }\n\n    deattachSelectedListener() {\n        //this.rect.off('selected', () => this.clicked(this));\n        this.rect.__eventListeners['selected'] = [];\n    }\n\n    attachMouseOverListener() {\n        this.rect.on('mouseover', () => this.mouseOver(this));\n    }\n\n    deatachMouseOverListener() {\n        // todo: not working need to check why\n        //this.rect.off('mouseover', () => this.mouseOver(this));\n        this.rect.__eventListeners['mouseover'] = [];\n    }\n\n    attachMouseOutListener() {\n        this.rect.on('mouseout', () => this.mouseOut(this));\n    }\n\n    deatachMouseOutListener() {\n        // todo: not working need to check why\n        //this.rect.off('mouseout', () => this.mouseOut(this));\n        this.rect.__eventListeners['mouseout'] = [];\n    }\n\n    setIsPermanent( isPermanent ) {\n        this.isPermanent = isPermanent;\n        this.deattachSelectedListener();\n        this.fillRectangle(Rectangle.COLORS.PERMANENT);\n        this.deleteImage();\n        this.setImage();\n    }\n\n    setIsTemporary( isTemporary ) {\n        this.isTemporary = isTemporary;\n        this.fillRectangle(isTemporary ? Rectangle.COLORS.TEMPORARY : Rectangle.COLORS.REGULAR);\n        if (isTemporary) {\n            this.attachMouseOverListener();\n            this.attachMouseOutListener();\n            this.rect.hoverCursor = \"pointer\";\n        }\n        else {\n            this.rect.hoverCursor = \"default\";\n            this.deatachMouseOverListener();\n            this.deatachMouseOutListener();\n        }\n    }\n\n    fillRectangle( color = Rectangle.COLORS.DEFAULT ) {\n        this.rect.set( 'fill', color );\n    }\n\n    setImage() {\n        const width = this.dimension / Rectangle.IMAGE_SCALE_FACTOR;\n        const left = this.column * this.dimension + ((this.dimension - width) / 2);\n        const top = this.row * this.dimension + ((this.dimension - width) / 2);\n        (function(context) {\n            fabric.loadSVGFromURL(Rectangle.IMAGE_PATH, function (objects, options) {\n                var obj = fabric.util.groupSVGElements(objects, options);\n                obj.left = left;\n                obj.top = top;\n                obj.scaleToWidth(width);\n                obj.scaleToHeight(width);\n                obj.lockMovementX = true;\n                obj.lockMovementY = true;\n                obj.selection = false;\n                obj.hasBorders = false;\n                obj.hasControls = false;\n                obj.hoverCursor = 'default';\n\n                context.get().canvas.add(obj);\n                context.get().canvas.setActiveObject(obj, function() {\n\n                });\n            });\n        })(this);\n    }\n\n    deleteImage() {\n        this.get().canvas._objects.forEach((element, index) => {\n            if(element.type == \"path\") {\n                this.get().canvas.remove(element);\n                this.get().canvas.renderAll();\n            }\n        });\n    }\n}\n\nRectangle.IMAGE_PATH = '../app/assets/svg/paw.svg';\nRectangle.IMAGE_SCALE_FACTOR = 2.5;\nRectangle.COLORS = {\n    BORDER: 'gray',\n    REGULAR: 'white',\n    PERMANENT: 'rgb(144, 140, 255)',\n    TEMPORARY: 'rgb(195, 186, 255)',\n    HOVER: 'rgb(195, 186, 0)'\n};\n\nexport default Rectangle;","import Canvas from '../../components/canvas/canvas.js';\nimport Rectangle from '../../components/rectangle/rectangle.js';\n\nclass Game {\n\tconstructor(props) {\n\t\tthis.state = {\n\t\t\thistory: [],\n\t\t\tpermanent: [],\n\t\t\ttemporary: [],\n\t\t};\n\t\tthis.rectangles = null;\n\t\tthis.rectDimension = props.rectDimension || null;\n\t\tthis.rectStrokeWidth = props.rectStrokeWidth || null;\n\t\tthis.width = props && props.width && props.width || 10;\n\t\tthis.height = props && props.height && props.height || 10;\n\n\t\t// init canvas\n\t\tthis.initCanvas(props);\n\t\tthis.initRectangles();\n\t\tthis.createRectangles(props);\n\t}\n\n\tinitCanvas(props) {\n\t\tthis.layout = new Canvas({\n\t\t\tid: props.id,\n\t\t\tdimension: props.rectDimension * this.width + this.rectStrokeWidth,\n\t\t});\n\t}\n\n\tinitRectangles() {\n\t\tthis.rectangles = new Array(this.width);\n\t\tfor (let i = 0; i < this.width; i++) {\n\t\t\tthis.rectangles[i] = new Array(this.height);\n\t\t}\n\t}\n\n\tcreateRectangles(props) {\n\t\tfor (let i = 0; i < this.width; i++) {\n\t\t\tfor (let j = 0; j < this.height; j++) {\n\t\t\t\tconst rect = this.getRectangle({\n\t\t\t\t\t...props,\n\t\t\t\t\tcolumn: i,\n\t\t\t\t\trow: j,\n\t\t\t\t});\n\t\t\t\tthis.rectangles[i][j] = rect;\n\t\t\t\tthis.layout.add(rect.get());\n\t\t\t\t// console.log(this.rectangles[i][j]);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRectangle(props) {\n\t\treturn new Rectangle({\n\t\t\tcolumn: props.column,\n\t\t\trow: props.row,\n\t\t\tdimension: this.rectDimension,\n\t\t\tstrokeWidth: this.rectStrokeWidth,\n\t\t\tclicked: this.rectangleClickedHandler,\n\t\t\tmouseOver: this.rectangleMouseOverHandler,\n\t\t\tmouseOut: this.rectangleMouseOutHandler,\n\t\t});\n\t}\n\n    rectangleClickedHandler = (rect) => {\n    \tconsole.log(`RECTANGLE CLICK HANDLER ${rect.rect.id}`);\n    \tif (rect.isTemporary) {\n    \t\tthis.resetTemporaryRectangles();\n    \t\tthis.setPermanentRectangle(rect);\n    \t\tthis.setTemporaryRectangles(rect);\n    \t}\n    }\n\n    setPermanentRectangle = (rect) => {\n    \tthis.state.permanent.push(rect);\n    \trect.setIsPermanent(true);\n    }\n\n    setTemporaryRectangles = (rect) => {\n    \tfor (const key in Game.CAT_PATTERN) {\n    \t\tconst patternItem = Game.CAT_PATTERN[key];\n    \t\tconst temporaryColumn = rect.column - patternItem.column;\n    \t\tconst temporaryRow = rect.row - patternItem.row;\n    \t\tif (temporaryColumn >= 0 && temporaryColumn < this.width && temporaryRow >= 0 && temporaryRow < this.height) {\n    \t\t\tconst tempRectangle = this.rectangles[temporaryColumn][temporaryRow];\n    \t\t\t// do not make temporary of permanent rectangle\n    \t\t\tif (!tempRectangle.isPermanent) {\n    \t\t\t\ttempRectangle.setIsTemporary(true);\n    \t\t\t\tthis.state.temporary.push(tempRectangle);\n    \t\t\t}\n    \t\t}\n    \t\t// console.log('TEMP ITEM => Column: ' + temporaryColumn + ' | Row: ' + temporaryRow);\n    \t}\n    \tthis.checkScore();\n    }\n\n    resetTemporaryRectangles = () => {\n    \tthis.state.temporary = [];\n    \tthis.rectangles.map((column) => {\n    \t\tcolumn.map((rectangle) => {\n    \t\t\tif (!rectangle.isPermanent) {\n    \t\t\t\trectangle.setIsTemporary(false);\n    \t\t\t}\n    \t\t});\n    \t});\n    }\n\n    rectangleMouseOverHandler = (rect) => {\n    \trect.get().set('fill', Rectangle.COLORS.HOVER);\n    \trect.get().canvas.renderAll();\n    \t// console.log('RECTANGLE MOUSE OVER');\n    }\n\n    rectangleMouseOutHandler = (rect) => {\n    \trect.get().set('fill', Rectangle.COLORS.TEMPORARY);\n    \trect.get().canvas.renderAll();\n    \t// console.log('RECTANGLE MOUSE OUT');\n    }\n\n    checkScore() {\n    \tif (this.state.temporary.length === 0) {\n    \t\talert('Mjau mrnjau :(');\n    \t}\n    \tif (this.state.permanent === this.width * this.height) {\n    \t\talert('Mjau mrnjau :)');\n    \t}\n    }\n}\n\nGame.CAT_PATTERN = {\n\tstage_1: { column: 0, row: 3 },\n\tstage_2: { column: 2, row: 2 },\n\tstage_3: { column: 3, row: 0 },\n\tstage_4: { column: 2, row: -2 },\n\tstage_5: { column: 0, row: -3 },\n\tstage_6: { column: -2, row: -2 },\n\tstage_7: { column: -3, row: 0 },\n\tstage_8: { column: -2, row: 2 },\n};\n\nexport default Game;\n","import Game from './app/modules/game/game.js';\n\nnew Game({\n    id: 'fat_cat',\n    rectDimension: 50,\n    rectStrokeWidth: 1,\n    width: 10,\n    height: 10\n});"],"names":["Canvas","props","canvas","init","create","attachListeners","document","createElement","id","getElementById","appendChild","fabric","dimension","setHeight","setWidth","obj","add","Rectangle","rect","column","row","clicked","mouseOver","mouseOut","isPermanent","isTemporary","attachSelectedListener","left","top","Rect","fill","COLORS","REGULAR","width","height","stroke","BORDER","strokeWidth","lockMovementX","lockMovementY","selection","hasBorders","hasControls","hoverCursor","on","__eventListeners","deattachSelectedListener","fillRectangle","PERMANENT","deleteImage","setImage","TEMPORARY","attachMouseOverListener","attachMouseOutListener","deatachMouseOverListener","deatachMouseOutListener","color","DEFAULT","set","IMAGE_SCALE_FACTOR","context","loadSVGFromURL","IMAGE_PATH","objects","options","util","groupSVGElements","scaleToWidth","scaleToHeight","get","setActiveObject","_objects","forEach","element","index","type","remove","renderAll","HOVER","Game","console","log","resetTemporaryRectangles","setPermanentRectangle","setTemporaryRectangles","state","permanent","push","setIsPermanent","key","CAT_PATTERN","patternItem","temporaryColumn","temporaryRow","tempRectangle","rectangles","setIsTemporary","temporary","checkScore","map","rectangle","history","rectDimension","rectStrokeWidth","initCanvas","initRectangles","createRectangles","layout","Array","i","j","getRectangle","rectangleClickedHandler","rectangleMouseOverHandler","rectangleMouseOutHandler","length","alert","stage_1","stage_2","stage_3","stage_4","stage_5","stage_6","stage_7","stage_8"],"mappings":"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"}